Step1:
https://auth.tdameritrade.com/auth?response_type=code&redirect_uri=https%3A%2F%2F127.0.0.1&client_id=KIKI%40AMER.OAUTHAP

ClientID: KIKI@AMER.OUTHAP

You get 404 like this
https://127.0.0.1/?code=OvPUBdF77bJydB5D0fMNg7pqG9J7MTZZUe4MYKblctvfbRLVAe9L%2Bbe7dvIC%2B5TIQPG%2BiKHD86rbn9H2h1SK1PJVlnKA8jM1wWt8G3SHIyL4turnGpTqGi8J3RP7tMhRfpaQPV6s0TPcPHhYUt%2Fafaxk6vYErep4jLDup4R39%2FQiwppApbyoh%2FKdfOGjM6qx5EFGvRVr5u4x2tva9Yjxw%2B3objl3nqzUSR7DQaMY4Orny8HXUYYAD3344HBaNCO360dE5gjd8m1MciXg4nei5vcWUNI6YswwX8Q5nlEln1t%2FcYTAIHeRlZ9xTRuDpJp%2BcMDoGTLdE3JAJBAm3RAKt7GiRTE1w%2FnctKkGvVayi0QkKTXivOtlGSWXtkHzme%2F2CEvY4bEdJHobtCEri82gk4YltnJn3NZHBKgx9CPuqExo74Z93FTVPVtoCmi100MQuG4LYrgoVi%2FJHHvljLgRMcDElw9gaY4aQY6M%2FFr%2FP9o8Cja%2F4PTeoUrvPBKMLMxaypZqgFkziW0newJmKXGAwdxHEJglddrpSa5l2yN6JVATdgBzcrQubmGGeA7QAsGYKB%2BDaBBqr0ygHbTU6rWupSIvJx7BdBd9WriPySd9EInBlCsN97hVvO3hmelquzFzmHO4dtvbbPMHyVrpP06ccrUIxIYH63VgCaW%2BFx2NRv2erYxWYMF%2Bei11dMKUnGU3yfj43abvyyvjNJINe2P4oRQIEeKfwbfd6BSMS9km5dSQXy8Eg11Ypm468EgIN2QSUrXXbeRR%2Fiw3jhf1JUojAf%2F0EGO2Ns59zAlKC3cTiu%2BFFrI8uZaKfVGRorBDBPbMT4q08kCQ0%2FSFvCQ%2BSwERWealDs%2BzZJ9OsOwCohnUS7%2B6iVoj4jFhfGY8jEggNqcbneAQPs7KXi8%3D212FD3x19z9sWBHDJACbC00B75E

URL DECODE:
OvPUBdF77bJydB5D0fMNg7pqG9J7MTZZUe4MYKblctvfbRLVAe9L+be7dvIC+5TIQPG+iKHD86rbn9H2h1SK1PJVlnKA8jM1wWt8G3SHIyL4turnGpTqGi8J3RP7tMhRfpaQPV6s0TPcPHhYUt/afaxk6vYErep4jLDup4R39/QiwppApbyoh/KdfOGjM6qx5EFGvRVr5u4x2tva9Yjxw+3objl3nqzUSR7DQaMY4Orny8HXUYYAD3344HBaNCO360dE5gjd8m1MciXg4nei5vcWUNI6YswwX8Q5nlEln1t/cYTAIHeRlZ9xTRuDpJp+cMDoGTLdE3JAJBAm3RAKt7GiRTE1w/nctKkGvVayi0QkKTXivOtlGSWXtkHzme/2CEvY4bEdJHobtCEri82gk4YltnJn3NZHBKgx9CPuqExo74Z93FTVPVtoCmi100MQuG4LYrgoVi/JHHvljLgRMcDElw9gaY4aQY6M/Fr/P9o8Cja/4PTeoUrvPBKMLMxaypZqgFkziW0newJmKXGAwdxHEJglddrpSa5l2yN6JVATdgBzcrQubmGGeA7QAsGYKB+DaBBqr0ygHbTU6rWupSIvJx7BdBd9WriPySd9EInBlCsN97hVvO3hmelquzFzmHO4dtvbbPMHyVrpP06ccrUIxIYH63VgCaW+Fx2NRv2erYxWYMF+ei11dMKUnGU3yfj43abvyyvjNJINe2P4oRQIEeKfwbfd6BSMS9km5dSQXy8Eg11Ypm468EgIN2QSUrXXbeRR/iw3jhf1JUojAf/0EGO2Ns59zAlKC3cTiu+FFrI8uZaKfVGRorBDBPbMT4q08kCQ0/SFvCQ+SwERWealDs+zZJ9OsOwCohnUS7+6iVoj4jFhfGY8jEggNqcbneAQPs7KXi8=212FD3x19z9sWBHDJACbC00B75E

curl -X POST --header "Content-Type: application/x-www-form-urlencoded" -d "grant_type=authorization_code&refresh_token=&access_type=offline&code=OvPUBdF77bJydB5D0fMNg7pqG9J7MTZZUe4MYKblctvfbRLVAe9L%2Bbe7dvIC%2B5TIQPG%2BiKHD86rbn9H2h1SK1PJVlnKA8jM1wWt8G3SHIyL4turnGpTqGi8J3RP7tMhRfpaQPV6s0TPcPHhYUt%2Fafaxk6vYErep4jLDup4R39%2FQiwppApbyoh%2FKdfOGjM6qx5EFGvRVr5u4x2tva9Yjxw%2B3objl3nqzUSR7DQaMY4Orny8HXUYYAD3344HBaNCO360dE5gjd8m1MciXg4nei5vcWUNI6YswwX8Q5nlEln1t%2FcYTAIHeRlZ9xTRuDpJp%2BcMDoGTLdE3JAJBAm3RAKt7GiRTE1w%2FnctKkGvVayi0QkKTXivOtlGSWXtkHzme%2F2CEvY4bEdJHobtCEri82gk4YltnJn3NZHBKgx9CPuqExo74Z93FTVPVtoCmi100MQuG4LYrgoVi%2FJHHvljLgRMcDElw9gaY4aQY6M%2FFr%2FP9o8Cja%2F4PTeoUrvPBKMLMxaypZqgFkziW0newJmKXGAwdxHEJglddrpSa5l2yN6JVATdgBzcrQubmGGeA7QAsGYKB%2BDaBBqr0ygHbTU6rWupSIvJx7BdBd9WriPySd9EInBlCsN97hVvO3hmelquzFzmHO4dtvbbPMHyVrpP06ccrUIxIYH63VgCaW%2BFx2NRv2erYxWYMF%2Bei11dMKUnGU3yfj43abvyyvjNJINe2P4oRQIEeKfwbfd6BSMS9km5dSQXy8Eg11Ypm468EgIN2QSUrXXbeRR%2Fiw3jhf1JUojAf%2F0EGO2Ns59zAlKC3cTiu%2BFFrI8uZaKfVGRorBDBPbMT4q08kCQ0%2FSFvCQ%2BSwERWealDs%2BzZJ9OsOwCohnUS7%2B6iVoj4jFhfGY8jEggNqcbneAQPs7KXi8%3D212FD3x19z9sWBHDJACbC00B75E&client_id=KIKI%40AMER.OUTHAP&redirect_uri=https%3A%2F%2F127.0.0.1" "https://api.tdameritrade.com/v1/oauth2/token"

HTTP/1.1 500 InvalidApiKey
Access-Control-Allow-Headers:
origin
Access-Control-Allow-Methods:
GET
Access-Control-Allow-Origin:
https://developer.tdameritrade.com
Access-Control-Max-Age:
3628800
Cache-Control:
no-cache
Connection:
keep-alive
Content-Length:
67
Content-Type:
application/json
Strict-Transport-Security:
max-age=31536000

          \{
        "error":"Invalid ApiKey"
      		}

=============================================================================


https://127.0.0.1/?code=Qyj0vNgAm%2FtlZ%2B53NReuv1msKSPktmnWY0pHtwvneSqC68MDomYB32pmQszQ11VfOAlehiUhUndbhfc4xIfxEL8HjynAz1Cj%2FCjqVF6LeMCeCjPzwipyopTctfXxVNgYOYoeMIClgpGmTJShaOvB81rd1CrlfMObeur1K2IdD%2FVi%2FMpxkro1ZfifSEEBkErqtC99a1lmCXvugo5HRJxNyzBYL%2FwLHtR4iDgvv5fB9O1IwXZCo3Ke5czIsAr6q8yXH29njSJ8I5NBuSRkkC8Mb6XCP16bMrR9hNHG3MXuv2CKaxLzKJ%2FSKfaLUzOOrOKpgOHMl%2BwZ%2Fq4PkrNv8WJjwwiL4UDogkNlYnLIzBlWlJU7cyTXh2HQ%2Fx8yLF%2BtwVVC0xd1Ly5del3Axm6deiVlHkBj6oxOa44z0EpYqx4O%2FHUYBfF0LKdy1JtptQj100MQuG4LYrgoVi%2FJHHvl%2Fdpb1yukn6FbtSgd4SR1tBWZBUVuew4xEuZhb4SxJ9s7zK0DNh3ZJEUtIWfG%2FYzfOBjZceHO99iQMqFfkMRGcQlDCfFvh9KzZWle7bzHLsyXdLkr1NpkZdWyS5rixFq6DaJBtTHEvHpc6ua0mLrmKcR0M3iTSApzwXFz%2BoRs4LD77jyB1eFtzLtmsUGDbVh9FCP2VGt154ELOQjo7dKXembLUHn1VzcyjvukcDOM%2BD4UDy4A6C5x%2FTg3A4AI2chAROOIX0aTCulfMkriasZn2wGH7uJ3OjoaJmpwQJDzwmuyFATWbKBnxmQrUu2jgBjK3J03PaUIXZnobkCAL712NUCCSdCWZSYUm%2F7liCN0Oj9U6ikb1Ih2eXDl02bGgmvuLYPgOAU1kzJwGLcly1rIKhB4u9ktUmq24St1zRdGc52NMw0s2DjYf1r8pJo%3D212FD3x19z9sWBHDJACbC00B75E

DECODED: 
Qyj0vNgAm/tlZ+53NReuv1msKSPktmnWY0pHtwvneSqC68MDomYB32pmQszQ11VfOAlehiUhUndbhfc4xIfxEL8HjynAz1Cj/CjqVF6LeMCeCjPzwipyopTctfXxVNgYOYoeMIClgpGmTJShaOvB81rd1CrlfMObeur1K2IdD/Vi/Mpxkro1ZfifSEEBkErqtC99a1lmCXvugo5HRJxNyzBYL/wLHtR4iDgvv5fB9O1IwXZCo3Ke5czIsAr6q8yXH29njSJ8I5NBuSRkkC8Mb6XCP16bMrR9hNHG3MXuv2CKaxLzKJ/SKfaLUzOOrOKpgOHMl+wZ/q4PkrNv8WJjwwiL4UDogkNlYnLIzBlWlJU7cyTXh2HQ/x8yLF+twVVC0xd1Ly5del3Axm6deiVlHkBj6oxOa44z0EpYqx4O/HUYBfF0LKdy1JtptQj100MQuG4LYrgoVi/JHHvl/dpb1yukn6FbtSgd4SR1tBWZBUVuew4xEuZhb4SxJ9s7zK0DNh3ZJEUtIWfG/YzfOBjZceHO99iQMqFfkMRGcQlDCfFvh9KzZWle7bzHLsyXdLkr1NpkZdWyS5rixFq6DaJBtTHEvHpc6ua0mLrmKcR0M3iTSApzwXFz+oRs4LD77jyB1eFtzLtmsUGDbVh9FCP2VGt154ELOQjo7dKXembLUHn1VzcyjvukcDOM+D4UDy4A6C5x/Tg3A4AI2chAROOIX0aTCulfMkriasZn2wGH7uJ3OjoaJmpwQJDzwmuyFATWbKBnxmQrUu2jgBjK3J03PaUIXZnobkCAL712NUCCSdCWZSYUm/7liCN0Oj9U6ikb1Ih2eXDl02bGgmvuLYPgOAU1kzJwGLcly1rIKhB4u9ktUmq24St1zRdGc52NMw0s2DjYf1r8pJo=212FD3x19z9sWBHDJACbC00B75E

WORKED:  

curl -X POST --header "Content-Type: application/x-www-form-urlencoded" -d "grant_type=authorization_code&refresh_token=&access_type=offline&code=Qyj0vNgAm%2FtlZ%2B53NReuv1msKSPktmnWY0pHtwvneSqC68MDomYB32pmQszQ11VfOAlehiUhUndbhfc4xIfxEL8HjynAz1Cj%2FCjqVF6LeMCeCjPzwipyopTctfXxVNgYOYoeMIClgpGmTJShaOvB81rd1CrlfMObeur1K2IdD%2FVi%2FMpxkro1ZfifSEEBkErqtC99a1lmCXvugo5HRJxNyzBYL%2FwLHtR4iDgvv5fB9O1IwXZCo3Ke5czIsAr6q8yXH29njSJ8I5NBuSRkkC8Mb6XCP16bMrR9hNHG3MXuv2CKaxLzKJ%2FSKfaLUzOOrOKpgOHMl%2BwZ%2Fq4PkrNv8WJjwwiL4UDogkNlYnLIzBlWlJU7cyTXh2HQ%2Fx8yLF%2BtwVVC0xd1Ly5del3Axm6deiVlHkBj6oxOa44z0EpYqx4O%2FHUYBfF0LKdy1JtptQj100MQuG4LYrgoVi%2FJHHvl%2Fdpb1yukn6FbtSgd4SR1tBWZBUVuew4xEuZhb4SxJ9s7zK0DNh3ZJEUtIWfG%2FYzfOBjZceHO99iQMqFfkMRGcQlDCfFvh9KzZWle7bzHLsyXdLkr1NpkZdWyS5rixFq6DaJBtTHEvHpc6ua0mLrmKcR0M3iTSApzwXFz%2BoRs4LD77jyB1eFtzLtmsUGDbVh9FCP2VGt154ELOQjo7dKXembLUHn1VzcyjvukcDOM%2BD4UDy4A6C5x%2FTg3A4AI2chAROOIX0aTCulfMkriasZn2wGH7uJ3OjoaJmpwQJDzwmuyFATWbKBnxmQrUu2jgBjK3J03PaUIXZnobkCAL712NUCCSdCWZSYUm%2F7liCN0Oj9U6ikb1Ih2eXDl02bGgmvuLYPgOAU1kzJwGLcly1rIKhB4u9ktUmq24St1zRdGc52NMw0s2DjYf1r8pJo%3D212FD3x19z9sWBHDJACbC00B75E&client_id=MJKIKI%40AMER.OAUTHAP&redirect_uri=http%3A%2F%2F127.0.0.1" "https://api.tdameritrade.com/v1/oauth2/token"

RESPONSE:
HTTP/1.1 200 OK
Access-Control-Allow-Headers:
origin
Access-Control-Allow-Methods:
GET
Access-Control-Allow-Origin:
https://developer.tdameritrade.com
Access-Control-Max-Age:
3628800
Cache-Control:
no-cache
Connection:
keep-alive
Content-Length:
2437
Content-Type:
application/json;charset=UTF-8
Date:
Tue, 18 Sep 2018 21:26:06 GMT
Strict-Transport-Security:
max-age=31536000
X-Application-Context:
OAUTH_SERVICE:run:8080
{
  "access_token": "Hvwr2xpG4fOyLGfofmrdc8t93N/VADQ31aufmNub0LEuONYSTuvLp/ntsfOqKmx/1yJMVg8/gRV1SSqtp9tP2Wgt5FBD21w1ciyhvNWb5OX++fCihUXlByw5Sz5umiJrxLkRxdDENtZV00uAo4UK7/DGxz60TaNQsspEhnURrHIrMLGqij5t/esQrojVvxxH7XT0rHVnpsh4lO7LkG3DgPFrsP1N8w4vuKOmRNKVI9BbpIpjp2KGd665po1TdqtmoR8kurmFCaScHR50wzrL//O7VcxU+lHEtPhsO5NxGGLXpmjrjTVTImy7X5V0svks6/wvOVUYxYncoY2JfnTCTilc4YW8mRRZ07XaE3hoDhmXJI5wHULxoIwHlARSHoUng5BpZJjkKcIqstPZ8EbsM9SaUc10wBeuw+UZc1lgq2f2YsX/27qGBEhROrzMAGlvkRYzdQoKSX0JvKoM1KzOZAQLcblJ+o/ExfCBmFGmThDKmr/qd4PCD+wbXwTlILZCYNZNX2jzCUhaETDy9bWdOn7QXa+IkBXK+TRtB896951psOO3vZhUamNw7LA75N7PiIj0A09JoZGpaCci0L2LejkCWrHBhp4k0tAgPnxVdCLY7NPsBij8vZrN/qaDNgXNxIsmYbVtsEIiOCUA0100MQuG4LYrgoVi/JHHvlNiNNIecsKJpeBtoJ566uMDpAmqM0Y/ZCqM0uDqGzregrFhS8RohwN8KArNFRmZlYITLMQBQQ7jZBe21mJhOXGHXPQCskqFOtqLVNKholLUeJ31m/RoWhBqgAZiTqRRLT3R02wCpL9r13zdEaEJndaXqebi6199DO0jolt36lX+GkuHxFHo1Mox2QrPGEOvm1005NhoPqG1r5nv0RLYGwbgtg9a00Lvj7ewdGXfxN4w+y7cz4f86ZVknvn6nvBJbWZ8XeEPzfK+rjwm2W5Sgfez/QGschgvOQZwzB+Twp+w4em948suahJ+HT4u+2YTn4ccrzJnnPWYliX5/3tKvk4CdaFhPPXmwdfPNKLRLJxcoxR1e1ML0849m6qCWsAHqhzkG5NnoYiz/zIwfD8npjWAhigBI+KiqnqOEfgnRC/Ddd8B0KZjKyTcZDDhSYZtRz2QQ6zvrVNicV0FjDRYDrXb9+J5v8s0c6qky6nvVpXGinGl1+VaYMxjpOTXcmuoDd+56qQyKTaOwsnTYRp7FF8dSbhhuAAHN/yV+mC4D0mRYzV66RtgP62ncu6dZR55gB/SXT3dzwglGGwNTg3L8fa1Dfl1kQfqp0J2O6s6ZwJq7qzAO6a91vKo7EFB2wYI1uPbf0a3N0w2pjDsUg==212FD3x19z9sWBHDJACbC00B75E",
  "refresh_token": "kFMVMxIh1MJnIBZr2AlxYip/7DrK1mapNj7/ACpHzVA3VCP9V3qdfdRML6YGu6gM8iO7j8bZ2Woq5l2ABK6M6pdYVTzioxpVMA9eQee+Fqsi/nhvr6UV9bnJfkrNBp8Pd3sv26ThizJad+ipup0LvY1CAi1zdB0tZKWUy01V1OTGV3W6H3uiTz5gJXe5M5f+XoUvod0SFpyxz627grwx0aKTwxOBIcCuIiQ2BiiUIpGYn8pYeBNIzJosvnTyOvgqju8DJnHxQgWCCgrhAYqA46Q3k0U770ZkEIEiGOP8T6aL57f4EYae0q+xOctkYrapzSUhvrontUdIvTHHojbTwsfwWkpVcqi9BLb1d59JX9Rb4F3nGAMIJMlpGh1z7MGRPoZNWL1nM1Xhwjewup0UGDHnKJQAIGbXMRCgkaD74i6OBfe/CuJvbDo9MpJ100MQuG4LYrgoVi/JHHvlgLNUUcCUZViYC4FydMjG9oLIDGqCMbezXG9qu9z+Mx239nbDq0FjnLDx69ZMnTXmq1Qoswnt6gbLpA8DlFBFjgYqRl3dS83kM8eOkP374xjCCOFetZTwD4i5jjlBZkJLVepXO32E9yKMOZzPHdrLXb8FIRW+hmjLy1l20QgPxmSrTe5fR+YMAE8wps2AFIg12wo+5ar0lMuQ4ZX20hz4ol4sxWMCJWboCAn1jYYK0MldfkmTqhGe9uBvDFl0qZE1NPWUzIOR1l9+DcESuOi+dI9UYcDomJ5TtT+uOt3cx5HjBSxuVN8HddcghLdHlIxAQKP3XaH1gQSHdLBSDRmFG7gwIDR5QM52/t4tfqOElEMM0MUkmnSUnFasjOgymLkb+3GDqzQrklk1/OOimNT+xUgKCFc0snQoLaXHzwHimoM5p5946DUII9gZvBg=212FD3x19z9sWBHDJACbC00B75E",
  "expires_in": 1800,
  "refresh_token_expires_in": 7776000,
  "token_type": "Bearer"
}
